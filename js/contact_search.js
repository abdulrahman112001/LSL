function filterFunction(e, l) { let i, s, t; i = $(e).closest(".searchable"), t = i.find("input").val().toUpperCase(), -1 != ["ArrowDown", "ArrowUp", "Enter"].indexOf(l.key) ? keyControl(l, i) : (s = i.find("ul li"), s.each(function (e, l) { -1 < $(this).text().toUpperCase().indexOf(t) ? $(this).show() : $(this).hide() }), i.find("ul li").removeClass("selected"), setTimeout(function () { i.find("ul li:visible").first().addClass("selected") }, 100)) } function keyControl(e, l) { "ArrowDown" == e.key ? l.find("ul li").hasClass("selected") ? l.find("ul li:visible").index(l.find("ul li.selected")) + 1 < l.find("ul li:visible").length && l.find("ul li.selected").removeClass("selected").nextAll().not('[style*="display: none"]').first().addClass("selected") : l.find("ul li:first-child").addClass("selected") : "ArrowUp" == e.key ? 0 < l.find("ul li:visible").index(l.find("ul li.selected")) && l.find("ul li.selected").removeClass("selected").prevAll().not('[style*="display: none"]').first().addClass("selected") : "Enter" == e.key && (xx = l.find("ul li.selected").text(), alert(xx), l.find("input").val(l.find("ul li.selected").text()).blur(), onSelect(l.find("ul li.selected").text())), l.find("ul li.selected")[0].scrollIntoView({ behavior: "smooth" }) } $(".searchable input").focus(function () { $(this).closest(".searchable").find("ul").show(), $(this).closest(".searchable").find("ul li").show() }), $(".searchable input").blur(function () { var e = this; setTimeout(function () { $(e).closest(".searchable").find("ul").hide() }, 300) }), $(document).on("click", ".searchable ul li", function () { $(this).closest(".searchable").find("input").val($(this).text().substring(0, $(this).text().indexOf(" "))).blur() }), $(".searchable ul li").hover(function () { $(this).closest(".searchable").find("ul li.selected").removeClass("selected"), $(this).addClass("selected") }), $(document).ready(function () { $(".opntimbtn").click(function () { $(".open-time").toggleClass("d-flex") }) }), $(document).ready(function () { $(".vwmap").click(function () { $(".mapbox").addClass("d-none"), $(".unver-loc").addClass("d-flex") }) });